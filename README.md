<h1 align="center">Welcome to Agile architecture documentation archetype üëã</h1>
<p>
	<a href="https://github.com/Riduidel/agile-architecture-documentation-system/actions?query=workflow%3A%22Java+CI+with+Maven%22">
<img alt="GitHub Workflow Status" src="https://img.shields.io/github/workflow/status/Riduidel/agile-architecture-documentation-system/Java CI with Maven">
	</a>
  <a href="https://github.com/Riduidel/agile-architecture-documentation-system/releases" target="_blank"><img src="https://badge.fury.io/gh/Riduidel%2Fagile-architecture-documentation-system.svg" alt="GitHub version"></a>
  <a href="https://twitter.com/Riduidel" target="_blank">
    <img alt="Twitter: Riduidel" src="https://img.shields.io/twitter/follow/Riduidel.svg?style=social" />
  </a>
</p>

> A Maven archetype allowing you to easily create your agile architecture documentation using a mix of C4, Asciidoc and PlantUML. This archetype uses [Structurizr](https://github.com/structurizr/java/) to build the architecture model, and [Agile architecture documentation](http://www.codingthearchitecture.com/2016/05/31/agile_software_architecture_documentation.html) template, all by Simon Brown.

## Install

Since I use Jitpack for easy deployment of that archetype, and [maven requires archetypes to be defined in settings.xml](http://maven.apache.org/archetype/maven-archetype-plugin/archetype-repository.html), you first have to define a jitpack profile in your settings.xml this way

```xml
		<profile>
			<id>jitpack</id>
			<repositories>
				<repository>
					<id>archetype</id><!-- id expected by maven-archetype-plugin to avoid 
						fetching from everywhere -->
					<url>https://jitpack.io</url>
					<releases>
						<enabled>true</enabled>
						<checksumPolicy>fail</checksumPolicy>
					</releases>
					<snapshots>
						<enabled>true</enabled>
						<checksumPolicy>warn</checksumPolicy>
					</snapshots>
				</repository>
			</repositories>
		</profile>
```

Then, you can use the archetype by running this maven-friendly üòÖcommand.
Don't forget to replace `${VERSION}` by ![GitHub version](https://badge.fury.io/gh/Riduidel%2Fagile-architecture-documentation-system.svg)

```sh
mvn archetype:generate -DarchetypeVersion=${VERSION} -DarchetypeRepository=https://jitpack.io -DarchetypeGroupId=com.github.Riduidel.agile-architecture-documentation-system -DarchetypeArtifactId=archetype -Pjitpack
```

This will ask you a few questions and generate the project.
Finally, don(t forget to replace the value of `agile-architecture-version` maven property by ![GitHub version](https://badge.fury.io/gh/Riduidel%2Fagile-architecture-documentation-system.svg)

## Usage

Once the archetype has been run, you'll have a project with Structurizr compatible source in `src/main/java`
and asciidoc files following Agile architecture documentation template in `src/docs/asciidoc`.

### Generating architecture documentation
Running `mvn install` will 

1. compile and run Java code to have C4 model-compatible diagrams generated by PlantUML
1. generate AsciiDoc HTML and PDF files

### Faster edit loop
A faster developer feedback loop can be achieved using the [fizzed-watcher-maven-plugin](https://github.com/fizzed/maven-plugins).
Don't worry, you don't have to configure it by yourself!
You can run

* `mvn -Pgenerate-docs -Plivereload` when working on documents.
This will watch both the `src/docs` and the `src/main/java` folder and run a `mvn package` when any of these folders have changes in.
Visit [http://localhost:35729/docs/html/](http://localhost:35729/docs/html/) to view your generated document in HTML form
* `mvn -Pgenerate-docs -Plivereload` when working on slides.
This will watch both the `src/slides` and the `src/main/java` folder and run a `mvn package` when any of these folders have changes in.
Visit [http://localhost:35729/slides/html/](http://localhost:35729/slides/html/) to view your generated slides in HTML form

If you have installed the [livereload browser extension](http://livereload.com/extensions/) (but not the livereload desktop application, which job is handled by the maven build), any change in the project will be immedialty visible in browser, allowing you to work in a pleasant environment (well, I hope)

### Best practices
* Define systems, containers and components options **only** through structurizr properties. 
The useful method for that is `ModelItem#addProperty(String, String)`. Don't try to load properties from other means, cause it'll introduce incoherence.
* Try to stay close to describe=>extend=>generate. In other words, first describe architecture in `Architecture` class. THen use available extension points (provided by CDI) to add additionnal infos.

## Developing
There are not many things to do (except improving the archetype source).
However, if you want to improve things, 
please run `mvn verify` which will create a project from the archetype and 
run `mvn package` which will trigger Java class compilation and run and Asciidoc documentation generation.

## Architecture
Way more details are available in the architecture documentation.

## Author

üë§ **Nicolas Delsaux**

* Twitter: [@Riduidel](https://twitter.com/Riduidel)
* Github: [@Riduidel](https://github.com/Riduidel)

## ü§ù Contributing

Contributions, issues and feature requests are welcome!<br />Feel free to check [issues page](https://github.com/Riduidel/agile-architecture-documentation-system/issues).

## Show your support

Give a ‚≠êÔ∏è if this project helped you!

***
_This README was generated with ‚ù§Ô∏è by [readme-md-generator](https://github.com/kefranabg/readme-md-generator)_